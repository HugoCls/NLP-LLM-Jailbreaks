Done logging!
Beginning TAP!
====================================
Tree-depth is: 1
====================================
Entering branch number 0
	Querying attacker with 1 prompts
<class 'openai.lib._old_api.APIRemovedInV1'>
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
<class 'openai.lib._old_api.APIRemovedInV1'>
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
<class 'openai.lib._old_api.APIRemovedInV1'>
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
<class 'openai.lib._old_api.APIRemovedInV1'>
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
<class 'openai.lib._old_api.APIRemovedInV1'>
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
Traceback (most recent call last):
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 226, in generate
    response = openai.ChatCompletion.create(
  File "C:\Users\strel\anaconda3\lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1:
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\main_TAP.py", line 411, in <module>
    main(args)
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\main_TAP.py", line 147, in main
    attack_llm.get_attack(convs_list_copy, processed_response_list)
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\conversers.py", line 114, in get_attack
    self.model.batched_generate(full_prompts_subset[left:right],
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 248, in batched_generate
    return [self.generate(conv, max_n_tokens, temperature, top_p) for conv in convs_list]
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 248, in <listcomp>
    return [self.generate(conv, max_n_tokens, temperature, top_p) for conv in convs_list]
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 238, in generate
    time.sleep(self.API_RETRY_SLEEP)
KeyboardInterrupt
Traceback (most recent call last):
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 226, in generate
    response = openai.ChatCompletion.create(
  File "C:\Users\strel\anaconda3\lib\site-packages\openai\lib\_old_api.py", line 39, in __call__
    raise APIRemovedInV1(symbol=self._symbol)
openai.lib._old_api.APIRemovedInV1:
You tried to access openai.ChatCompletion, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.
You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface.
Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`
A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\main_TAP.py", line 411, in <module>
    main(args)
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\main_TAP.py", line 147, in main
    attack_llm.get_attack(convs_list_copy, processed_response_list)
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\conversers.py", line 114, in get_attack
    self.model.batched_generate(full_prompts_subset[left:right],
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 248, in batched_generate
    return [self.generate(conv, max_n_tokens, temperature, top_p) for conv in convs_list]
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 248, in <listcomp>
    return [self.generate(conv, max_n_tokens, temperature, top_p) for conv in convs_list]
  File "C:\Users\strel\OneDrive\Desktop\Politehnica_Bucharest\1st year\Semester 2\Projet NLP\NLP-LLM-Jailbreaks\TAP\language_models.py", line 238, in generate
    time.sleep(self.API_RETRY_SLEEP)
KeyboardInterrupt